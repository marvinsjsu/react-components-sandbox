# react-components

## usage
`npm i git+ssh://git@github.com/PresearchOfficial/react-components --save`

## components

* withAuth - HOC, provides auth methods to wrapped components
* Login - sign-in component, when user signs-in successfully, will store `access_token` and `user` data in browser cookie
* LoadingButton - button component with loader display


### withAuth

##### methods
* login - takes in user's `email` and `password`, returns a promise with response from api
* getPasswordStrength - takes in `password`, returns ratio of met password requirements and all password requirements
* getPasswordMetCount - takes in `password`, returns count of met password requirements
* getPasswordReqMet - takes in `password`, returns an array of met requirements object (`label` and `test` values)
* getPasswordReqUnmet - takes in `password`, returns an array of unmet requirements object (`label` and `test` values)
* register - _will be implemented soon_

```javascript
class Wrapped extends Component {

  onClick = () => {
    const { login } = this.props;
    const creds = {
      email: '[user_email]',
      password: '[password]'
    };

    login(email, password)
      .then(response => {
        ...
      });
  }

  render () {

    return (
      ...
    );
  }

}

export default withAuth(Wrapped);

```


### Login

##### props
* referrerPath - used as `to` value when redirecting a user after successfully logging in
* successCB - success callback
* errorCB - error callback
* customStyles - used to provide styles to the form elements
    * containerStyle
    * errorStyle
    * formStyle
    * labelContainerStyle
    * labelStyle
    * inputStyle
    * buttonStyle

```javascript
import { Redirect } from 'react-router-dom';

const customStyles = {
  containerStyle: {},
  errorStyle: {},
  formStyle: {},
  labelContainerStyle: {},
  labelStyle: {},
  inputStyle: {},
  buttonStyle: {},
};

<Login
  successCB={() => (<Redirect to='/myaccount'/>)}
  errorCB={() => console.log('there was an error')}
  referrerPath='/myaccount'
  customStyles={customStyles}
>
```
