import React, { Component } from 'react';
import { Progress } from 'react-sweet-progress';
import "react-sweet-progress/lib/style.css";

import { Password } from '../../utils/password';

export default class PasswordStrength extends Component {

  constructor(props) {
    super(props);
  }

  render () {
    const { customStyles = {}, password, passingGrade } = this.props;
    const { containerStyle = {}, errorStyle = {}, formStyle = {}, labelContainerStyle = {}, labelStyle = {}, inputStyle = {}, buttonStyle = {}} = customStyles;

    const passwordStrengthPercent = Password.getStrength(password);
    let passwordStatus = "fail";
    let passwordStrength = "";

    if (passwordStrengthPercent >= passingGrade) {
      passwordStatus = "success";
      passwordStrength = "Strong";
    }

    return (
      <div
        style={{
          ...styles.container,
          ...containerStyle,
        }}
      >
        <div
          className="label ae-3 cropTop"
          style={{
            ...styles.labelContainer,
            ...labelContainerStyle,
          }}
        >
          <label
            className="left cropTop opacity-5"
            style={{
              ...styles.label,
              ...labelStyle
            }}
            htmlFor="email42"
          >
            Password Strength: {passwordStrength}
          </label>
        </div>
        <Progress percent={passwordStrengthPercent} status="active" />
      </div>
    );
  }
}

const styles = {
  container: {},
  labelContainer: {},
  label: {},
};